{"ast":null,"code":"import { parse } from \"css-what\";\nimport { filters } from \"./filters.js\";\nimport { pseudos, verifyPseudoArgs } from \"./pseudos.js\";\nimport { aliases } from \"./aliases.js\";\nimport { subselects } from \"./subselects.js\";\nexport { filters, pseudos, aliases };\nexport function compilePseudoSelector(next, selector, options, context, compileToken) {\n  var _a;\n  const {\n    name,\n    data\n  } = selector;\n  if (Array.isArray(data)) {\n    if (!(name in subselects)) {\n      throw new Error(\"Unknown pseudo-class :\".concat(name, \"(\").concat(data, \")\"));\n    }\n    return subselects[name](next, data, options, context, compileToken);\n  }\n  const userPseudo = (_a = options.pseudos) === null || _a === void 0 ? void 0 : _a[name];\n  const stringPseudo = typeof userPseudo === \"string\" ? userPseudo : aliases[name];\n  if (typeof stringPseudo === \"string\") {\n    if (data != null) {\n      throw new Error(\"Pseudo \".concat(name, \" doesn't have any arguments\"));\n    }\n    // The alias has to be parsed here, to make sure options are respected.\n    const alias = parse(stringPseudo);\n    return subselects[\"is\"](next, alias, options, context, compileToken);\n  }\n  if (typeof userPseudo === \"function\") {\n    verifyPseudoArgs(userPseudo, name, data, 1);\n    return elem => userPseudo(elem, data) && next(elem);\n  }\n  if (name in filters) {\n    return filters[name](next, data, options, context);\n  }\n  if (name in pseudos) {\n    const pseudo = pseudos[name];\n    verifyPseudoArgs(pseudo, name, data, 2);\n    return elem => pseudo(elem, options, data) && next(elem);\n  }\n  throw new Error(\"Unknown pseudo-class :\".concat(name));\n}","map":{"version":3,"names":["parse","filters","pseudos","verifyPseudoArgs","aliases","subselects","compilePseudoSelector","next","selector","options","context","compileToken","name","data","Array","isArray","Error","concat","userPseudo","_a","stringPseudo","alias","elem","pseudo"],"sources":["https://raw.githubusercontent.com/fb55/css-select/0f0725a9dfeddd2fdb54eda9656cdbab5bbf6be6/src/pseudo-selectors/index.ts"],"sourcesContent":[null],"mappings":"AAeA,SAASA,KAAK,QAAwB,UAAU;AAChD,SAASC,OAAO,QAAQ,cAAc;AACtC,SAASC,OAAO,EAAEC,gBAAgB,QAAQ,cAAc;AACxD,SAASC,OAAO,QAAQ,cAAc;AACtC,SAASC,UAAU,QAAQ,iBAAiB;AAE5C,SAASJ,OAAO,EAAEC,OAAO,EAAEE,OAAO;AAElC,OAAM,SAAUE,qBAAqBA,CACjCC,IAAgC,EAChCC,QAAwB,EACxBC,OAA2C,EAC3CC,OAA2B,EAC3BC,YAA6C;;EAE7C,MAAM;IAAEC,IAAI;IAAEC;EAAI,CAAE,GAAGL,QAAQ;EAE/B,IAAIM,KAAK,CAACC,OAAO,CAACF,IAAI,CAAC,EAAE;IACrB,IAAI,EAAED,IAAI,IAAIP,UAAU,CAAC,EAAE;MACvB,MAAM,IAAIW,KAAK,0BAAAC,MAAA,CAA0BL,IAAI,OAAAK,MAAA,CAAIJ,IAAI,MAAG,CAAC;;IAG7D,OAAOR,UAAU,CAACO,IAAI,CAAC,CAACL,IAAI,EAAEM,IAAI,EAAEJ,OAAO,EAAEC,OAAO,EAAEC,YAAY,CAAC;;EAGvE,MAAMO,UAAU,GAAG,CAAAC,EAAA,GAAAV,OAAO,CAACP,OAAO,cAAAiB,EAAA,uBAAAA,EAAA,CAAGP,IAAI,CAAC;EAE1C,MAAMQ,YAAY,GACd,OAAOF,UAAU,KAAK,QAAQ,GAAGA,UAAU,GAAGd,OAAO,CAACQ,IAAI,CAAC;EAE/D,IAAI,OAAOQ,YAAY,KAAK,QAAQ,EAAE;IAClC,IAAIP,IAAI,IAAI,IAAI,EAAE;MACd,MAAM,IAAIG,KAAK,WAAAC,MAAA,CAAWL,IAAI,gCAA6B,CAAC;;IAGhE;IACA,MAAMS,KAAK,GAAGrB,KAAK,CAACoB,YAAY,CAAC;IACjC,OAAOf,UAAU,CAAC,IAAI,CAAC,CAACE,IAAI,EAAEc,KAAK,EAAEZ,OAAO,EAAEC,OAAO,EAAEC,YAAY,CAAC;;EAGxE,IAAI,OAAOO,UAAU,KAAK,UAAU,EAAE;IAClCf,gBAAgB,CAACe,UAAU,EAAEN,IAAI,EAAEC,IAAI,EAAE,CAAC,CAAC;IAE3C,OAAQS,IAAI,IAAKJ,UAAU,CAACI,IAAI,EAAET,IAAI,CAAC,IAAIN,IAAI,CAACe,IAAI,CAAC;;EAGzD,IAAIV,IAAI,IAAIX,OAAO,EAAE;IACjB,OAAOA,OAAO,CAACW,IAAI,CAAC,CAACL,IAAI,EAAEM,IAAc,EAAEJ,OAAO,EAAEC,OAAO,CAAC;;EAGhE,IAAIE,IAAI,IAAIV,OAAO,EAAE;IACjB,MAAMqB,MAAM,GAAGrB,OAAO,CAACU,IAAI,CAAC;IAC5BT,gBAAgB,CAACoB,MAAM,EAAEX,IAAI,EAAEC,IAAI,EAAE,CAAC,CAAC;IAEvC,OAAQS,IAAI,IAAKC,MAAM,CAACD,IAAI,EAAEb,OAAO,EAAEI,IAAI,CAAC,IAAIN,IAAI,CAACe,IAAI,CAAC;;EAG9D,MAAM,IAAIN,KAAK,0BAAAC,MAAA,CAA0BL,IAAI,CAAE,CAAC;AACpD","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}